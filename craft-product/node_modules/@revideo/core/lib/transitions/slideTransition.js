import { all } from '../flow';
import { Direction, Vector2 } from '../types';
import { useScene } from '../utils';
import { useTransition } from './useTransition';
export function* slideTransition(direction = Direction.Top, duration = 0.6) {
    const size = useScene().getSize();
    const position = size.getOriginOffset(direction).scale(2);
    const previousPosition = Vector2.createSignal();
    const currentPosition = Vector2.createSignal(position);
    const endTransition = useTransition(ctx => ctx.translate(currentPosition.x(), currentPosition.y()), ctx => ctx.translate(previousPosition.x(), previousPosition.y()));
    yield* all(previousPosition(position.scale(-1), duration), currentPosition(Vector2.zero, duration));
    endTransition();
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2xpZGVUcmFuc2l0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3RyYW5zaXRpb25zL3NsaWRlVHJhbnNpdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUMsR0FBRyxFQUFDLE1BQU0sU0FBUyxDQUFDO0FBRTVCLE9BQU8sRUFBQyxTQUFTLEVBQVUsT0FBTyxFQUFDLE1BQU0sVUFBVSxDQUFDO0FBQ3BELE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxVQUFVLENBQUM7QUFDbEMsT0FBTyxFQUFDLGFBQWEsRUFBQyxNQUFNLGlCQUFpQixDQUFDO0FBc0I5QyxNQUFNLFNBQVMsQ0FBQyxDQUFDLGVBQWUsQ0FDOUIsWUFBZ0MsU0FBUyxDQUFDLEdBQUcsRUFDN0MsUUFBUSxHQUFHLEdBQUc7SUFFZCxNQUFNLElBQUksR0FBRyxRQUFRLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUNsQyxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMxRCxNQUFNLGdCQUFnQixHQUFHLE9BQU8sQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUNoRCxNQUFNLGVBQWUsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3ZELE1BQU0sYUFBYSxHQUFHLGFBQWEsQ0FDakMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxlQUFlLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFDOUQsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLENBQUMsRUFBRSxFQUFFLGdCQUFnQixDQUFDLENBQUMsRUFBRSxDQUFDLENBQ2pFLENBQUM7SUFFRixLQUFLLENBQUMsQ0FBQyxHQUFHLENBQ1IsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxFQUM5QyxlQUFlLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FDeEMsQ0FBQztJQUNGLGFBQWEsRUFBRSxDQUFDO0FBQ2xCLENBQUMifQ==