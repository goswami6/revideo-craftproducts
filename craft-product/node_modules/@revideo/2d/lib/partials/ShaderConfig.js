import { experimentalLog, useLogger, useScene, } from '@revideo/core';
export function parseShader(value) {
    let result;
    if (!value) {
        result = [];
    }
    else if (typeof value === 'string') {
        result = [{ fragment: value }];
    }
    else if (Array.isArray(value)) {
        result = value.map(item => typeof item === 'string' ? { fragment: item } : item);
    }
    else {
        result = [value];
    }
    if (!useScene().experimentalFeatures && result.length > 0) {
        result = [];
        useLogger().log({
            ...experimentalLog(`Node uses experimental shaders.`),
            inspect: this.key,
        });
    }
    return result;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2hhZGVyQ29uZmlnLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2xpYi9wYXJ0aWFscy9TaGFkZXJDb25maWcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNMLGVBQWUsRUFFZixTQUFTLEVBQ1QsUUFBUSxHQUVULE1BQU0sZUFBZSxDQUFDO0FBeUZ2QixNQUFNLFVBQVUsV0FBVyxDQUV6QixLQUEyQjtJQUUzQixJQUFJLE1BQXNCLENBQUM7SUFDM0IsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ1gsTUFBTSxHQUFHLEVBQUUsQ0FBQztJQUNkLENBQUM7U0FBTSxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRSxDQUFDO1FBQ3JDLE1BQU0sR0FBRyxDQUFDLEVBQUMsUUFBUSxFQUFFLEtBQUssRUFBQyxDQUFDLENBQUM7SUFDL0IsQ0FBQztTQUFNLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO1FBQ2hDLE1BQU0sR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQ3hCLE9BQU8sSUFBSSxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FDbkQsQ0FBQztJQUNKLENBQUM7U0FBTSxDQUFDO1FBQ04sTUFBTSxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDbkIsQ0FBQztJQUVELElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxvQkFBb0IsSUFBSSxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO1FBQzFELE1BQU0sR0FBRyxFQUFFLENBQUM7UUFDWixTQUFTLEVBQUUsQ0FBQyxHQUFHLENBQUM7WUFDZCxHQUFHLGVBQWUsQ0FBQyxpQ0FBaUMsQ0FBQztZQUNyRCxPQUFPLEVBQUUsSUFBSSxDQUFDLEdBQUc7U0FDbEIsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELE9BQU8sTUFBTSxDQUFDO0FBQ2hCLENBQUMifQ==