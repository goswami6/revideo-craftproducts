function isClassComponent(
// eslint-disable-next-line @typescript-eslint/ban-types
fn) {
    return !!fn.prototype?.isClass;
}
export const Fragment = Symbol.for('@revideo/2d/fragment');
export function jsx(type, config, key) {
    const { ref, children, ...rest } = config;
    const flatChildren = Array.isArray(children) ? children.flat() : children;
    if (type === Fragment) {
        return flatChildren;
    }
    if (isClassComponent(type)) {
        const node = new type({ ...rest, children: flatChildren, key });
        ref?.(node);
        return node;
    }
    else {
        return type({ ...rest, ref, children: flatChildren, key });
    }
}
export { jsx as jsxs };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianN4LXJ1bnRpbWUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvbGliL2pzeC1ydW50aW1lLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWdCQSxTQUFTLGdCQUFnQjtBQUN2Qix3REFBd0Q7QUFDeEQsRUFBWTtJQUVaLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDO0FBQ2pDLENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0FBQzNELE1BQU0sVUFBVSxHQUFHLENBQ2pCLElBQTJELEVBQzNELE1BQWdCLEVBQ2hCLEdBQVM7SUFFVCxNQUFNLEVBQUMsR0FBRyxFQUFFLFFBQVEsRUFBRSxHQUFHLElBQUksRUFBQyxHQUFHLE1BQU0sQ0FBQztJQUN4QyxNQUFNLFlBQVksR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQztJQUUxRSxJQUFJLElBQUksS0FBSyxRQUFRLEVBQUUsQ0FBQztRQUN0QixPQUFPLFlBQVksQ0FBQztJQUN0QixDQUFDO0lBRUQsSUFBSSxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1FBQzNCLE1BQU0sSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLEVBQUMsR0FBRyxJQUFJLEVBQUUsUUFBUSxFQUFFLFlBQVksRUFBRSxHQUFHLEVBQUMsQ0FBQyxDQUFDO1FBQzlELEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ1osT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO1NBQU0sQ0FBQztRQUNOLE9BQU8sSUFBSSxDQUFDLEVBQUMsR0FBRyxJQUFJLEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQUUsR0FBRyxFQUFDLENBQUMsQ0FBQztJQUMzRCxDQUFDO0FBQ0gsQ0FBQztBQUNELE9BQU8sRUFBQyxHQUFHLElBQUksSUFBSSxFQUFDLENBQUMifQ==